<div class="phase">
	<h2 ng-bind="phase.name" class="phase__title"></h2>
	<div ng-if="!phaseRun.isNew">
		<a ui-sref="checklist-phase({ phaseSlug: phaseCtrl.getPhase(0).slug })" ng-click="checklistCtrl.newRun()" class="btn">Restart checklist</a>
	</div>
	<div class="checklist">
		<table>
			<thead></thead>
			<tbody>
				<tr ng-repeat="step in phase.steps" class="checklist__item">
					<td class="checklist__item-cell checklist__item-cell--number">
						<span ng-bind="$index + 1" class="checklist__item-number"></span>
					</td>
					<td class="checklist__item-cell checklist__item-cell--name">
						<span ng-bind="step.item" class="checklist__item-name"></span>
					</td>
					<td class="checklist__item-cell checklist__item-cell--action">
						<span ng-bind="step.action" class="checklist__item-action"></span>
					</td>
					<td class="checklist__item-cell checklist__item-cell--buttons">
						<button class="btn-checklist-state" ng-class="'btn-checklist-state--' + run.phases[phaseIndex].steps[$index].state" ng-click="phaseCtrl.toggleStepState(run.phases[phaseIndex].steps[$index], 'next')" sc-right-click="phaseCtrl.toggleStepState(run.phases[phaseIndex].steps[$index], 'prev')"></button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
	<nav class="phase__navigation">
		<a ng-if="prevPhaseSlug" ui-sref="checklist-phase({ phaseSlug: prevPhaseSlug })" rel="prev" sc-scroll-to-top>Previous Phase</a>
		<a ng-if="nextPhaseSlug" ui-sref="checklist-phase({ phaseSlug: nextPhaseSlug })" rel="next" sc-scroll-to-top>Next Phase</a>
	</nav>
	<div class="phase-progress">
		<div class="phase-progress__bar" ng-style="phaseCtrl.getPhaseProgressStyles()">
			<div class="phase-progress__peg"></div>
		</div>
	</div>
</div>
